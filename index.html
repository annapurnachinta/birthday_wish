<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cake.css">
    <title>Birthday cake</title>
</head>
<body>
  <div class="container">
    <h1>Happy Birthday Mohan</h1>
    <div id="confetti-particles">
        <div class="row-bg-wrap">
          
        </div>
      </div>
      
  <div class="container1">
    <div class="birthday-cake">
      <div class="holder1"></div>
      <div class="holder2"></div>
      <div class="holder3"></div>
      <div class="shadow"></div>
    </div>
    <div class="cake">
      <div class="top"></div>
      <div class="chocolate1"></div>
      <div class="chocolate2"></div>
      <div class="chocolate3"></div>
    </div>
    <div class="candle1"></div>
    <div class="candle2"></div>
    <div class="flame"></div>
  </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

  <script>
    /**
 * Confetti particle class
 */
class ConfettiParticle {
  
    constructor( context, width, height ) {
      this.context = context;
      this.width = width;
      this.height = height;
      this.color = '';
      this.lightness = 50; 
      this.diameter = 0;
      this.tilt = 0;
      this.tiltAngleIncrement = 0;
      this.tiltAngle = 0;
      this.particleSpeed = 0.5;
      this.waveAngle = 0;
      this.x = 0;
      this.y = 0;
      this.reset();
    }
    
    reset() {
      this.lightness = 50;
      this.color = Math.floor( Math.random() * 360 ); 
      this.x = Math.random() * this.width;
      this.y = Math.random() * this.height - this.height;
      this.diameter = Math.random() * 6 + 4;
      this.tilt = 0;
      this.tiltAngleIncrement = Math.random() * 0.1 + 0.04;
      this.tiltAngle = 0;
    }
    
    darken() {
      if ( this.y < 100 || this.lightness >= 250 ) return; 
      this.lightness += ( 60 / this.height ); 
    }
    
    update() {
      this.waveAngle += this.tiltAngleIncrement;
      this.tiltAngle += this.tiltAngleIncrement;
      this.tilt = Math.sin( this.tiltAngle ) * 12;
      this.x += Math.sin( this.waveAngle );
      this.y += ( Math.cos( this.waveAngle ) + this.diameter + this.particleSpeed ) * 0.1;
      if ( this.complete() ) this.reset(); 
      this.darken();
    }
    
    complete() {
      return ( this.y > this.height + 20 );
    }
    
    draw() {
      let x = this.x + this.tilt;
      this.context.beginPath();
      this.context.lineWidth = this.diameter;
      this.context.strokeStyle = "hsl("+ this.color +", 50%, "+this.lightness+"%)";
      this.context.moveTo( x + this.diameter / 2, this.y );
      this.context.lineTo( x, this.y + this.tilt + this.diameter / 2 );
      this.context.stroke();
    }
  }
  
  /**
   * Setup
   */
  (function() {
    let width = jQuery("#confetti-particles .row-bg-wrap").width();
    let height = jQuery("#confetti-particles .row-bg-wrap").height();
    let particles = [];
  
    // particle canvas
    const canvas = document.createElement( 'canvas' );
    const context = canvas.getContext( '2d' );
    canvas.id = 'particle-canvas';
    canvas.width = jQuery("#confetti-particles .row-bg-wrap").width();
    canvas.height = jQuery("#confetti-particles .row-bg-wrap").height();
    jQuery("#confetti-particles .row-bg-wrap").append( canvas );
  
    // update canvas size
    const updateSize = () => {
      width = jQuery("#confetti-particles .row-bg-wrap").width();
      height = jQuery("#confetti-particles .row-bg-wrap").height();
      canvas.width = width;
      canvas.height = height;
    };
    
    // create confetti particles 
    const createParticles = () => {
      particles = []; 
      let total = 100; 
      
      if ( width > 1080 ) { total = 200; } else 
      if ( width > 760 )  { total = 80; } else 
      if ( width > 520 )  { total = 60; }
      
      for ( let i = 0; i < total; ++i ) {
        particles.push( new ConfettiParticle( context, width, height ) );
      }
    };
  



    
    // animation loop function
    const animationFunc = () => {
      requestAnimationFrame( animationFunc );
      context.clearRect( 0, 0, width, height );
      
      for ( let p of particles ) {
        p.width = width;
        p.height = height;
        p.update();
        p.draw();
      }
    };
    
    // on resize 
    window.addEventListener( 'resize', e => {
      updateSize();
      createParticles();
    });
  
    // start
    updateSize();
    createParticles();
    animationFunc();
    
  })();
  </script>

</body>
</html>